# GitHub Secrets 配置说明

本项目支持多种环境变量配置，用于自动签到和通知推送。

## 📋 账号配置

### LinuxDO 账号

用于 LinuxDO 论坛日常签到和浏览帖子。

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `LINUXDO_ACCOUNTS` | 否 | JSON 数组格式，支持多账号（仅本地有效） |

**配置示例：**
```json
[
  {
    "username": "账号1用户名",
    "password": "账号1密码",
    "name": "主账号",
    "browse_minutes": 40
  },
  {
    "username": "账号2用户名",
    "password": "账号2密码",
    "name": "小号",
    "browse_minutes": 20
  }
]
```

**字段说明：**
| 字段 | 必填 | 默认值 | 说明 |
|------|------|--------|------|
| `username` | ✅ | - | LinuxDO 用户名 |
| `password` | ✅ | - | LinuxDO 密码 |
| `name` | ❌ | username | 显示名称 |
| `browse_minutes` | ❌ | 20 | 浏览时长（分钟） |

---

### NewAPI 站点账号 (Cookie 方式)

用于各 NewAPI 公益站的签到，需要通过 Cookie 登录。

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `NEWAPI_ACCOUNTS` | 否 | JSON 数组格式 |

**配置示例：**
```json
[
  {
    "name": "WONG公益站",
    "provider": "wong",
    "cookies": {"session": "xxx", "new-api-user": "123"},
    "api_user": "12345"
  }
]
```

---

## 🌐 支持的 NewAPI 站点

在 `NEWAPI_ACCOUNTS` 的 `provider` 字段中可填写以下站点 ID：

| 站点 ID | 站点名称 | 域名 |
|---------|----------|------|
| `wong` | WONG公益站 | wzw.pp.ua |
| `elysiver` | Elysiver | elysiver.h-e.top |
| `kfcapi` | KFC API | kfc-api.sxxe.net |
| `duckcoding` | Free DuckCoding | free.duckcoding.com |
| `runanytime` | 随时跑路 | runanytime.hxi.me |
| `neb` | NEB公益站 | ai.zzhdsgsss.xyz |
| `mitchll` | Mitchll-api公益站 | api.mitchll.com |
| `kingo` | Kingo API公益站 | new-api-bxhm.onrender.com |
| `techstar` | TechnologyStar | aidrouter.qzz.io |
| `lightllm` | 轻のLLM | lightllm.online |
| `hotaru` | Hotaru API | api.hotaruapi.top |
| `dev88` | DEV88公益站 | api.dev88.tech |
| `huan` | huan公益站 | ai.huan666.de |

---

## 🔔 通知渠道配置

支持 11 种通知渠道，配置对应环境变量即可启用。

### 邮件通知 (推荐)

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `EMAIL_USER` | ✅ | 发件邮箱账号 |
| `EMAIL_PASS` | ✅ | 邮箱授权码（非登录密码） |
| `EMAIL_TO` | ❌ | 收件邮箱地址（默认发送到 EMAIL_USER） |
| `EMAIL_SENDER` | ❌ | 发件人显示名称 |
| `CUSTOM_SMTP_SERVER` | ❌ | 自定义 SMTP 服务器 |

> ⚠️ QQ 邮箱需要使用 16 位授权码，在 QQ邮箱设置 → 账户 → POP3/IMAP/SMTP 服务 → 生成授权码

---

### PushPlus (微信推送)

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `PUSHPLUS_TOKEN` | ✅ | PushPlus Token |

获取地址：https://www.pushplus.plus/

---

### Server酱 Turbo (SCT)

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `SC3_PUSH_KEY` | ✅ | SendKey (格式: SCTxxxxx) |

获取地址：https://sct.ftqq.com/sendkey

---

### Telegram

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `TELEGRAM_BOT_TOKEN` | ✅ | Bot Token |
| `TELEGRAM_CHAT_ID` | ✅ | Chat ID |

或使用别名：`TELEGRAM_TOKEN`、`TELEGRAM_USERID`

---

### 钉钉机器人

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `DINGDING_WEBHOOK` | ✅ | 钉钉机器人 Webhook URL |

---

### 飞书机器人

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `FEISHU_WEBHOOK` | ✅ | 飞书机器人 Webhook URL |

---

### 企业微信机器人

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `WEIXIN_WEBHOOK` | ✅ | 企业微信机器人 Webhook URL |

---

### Bark (iOS)

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `BARK_KEY` | ✅ | Bark 推送 Key |
| `BARK_SERVER` | ❌ | 自定义服务器 (默认 https://api.day.app) |

---

### Gotify

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `GOTIFY_URL` | ✅ | Gotify 服务器地址 |
| `GOTIFY_TOKEN` | ✅ | 应用 API Token |
| `GOTIFY_PRIORITY` | ❌ | 消息优先级 (默认 9) |

---

### wxpush

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `WXPUSH_URL` | ✅ | wxpush 服务器地址 |
| `WXPUSH_TOKEN` | ✅ | wxpush Token |

---

### Server酱 (旧版)

| Secret 名称 | 必填 | 说明 |
|------------|------|------|
| `SERVERPUSHKEY` | ✅ | Server酱 SCKEY |

---

## 📝 完整配置示例

最小配置（仅 NewAPI 签到）：
```
NEWAPI_ACCOUNTS = [{"name":"WONG","provider":"wong","cookies":{"session":"xxx"}}]
```

推荐配置（NewAPI 站点签到 + 邮件通知）：
```
NEWAPI_ACCOUNTS = [{"name":"WONG","provider":"wong","cookies":{"session":"xxx"}}]
EMAIL_USER = your_email@qq.com
EMAIL_PASS = 16位授权码
```

本地运行配置（LinuxDO 浏览）：
```
# 在本地 .env 文件或环境变量中配置
LINUXDO_ACCOUNTS = [{"username":"user","password":"pass","browse_minutes":40}]
```

---

## ⏰ 运行时间

### GitHub Actions

| 任务 | 运行时间 | 配置文件 |
|------|----------|----------|
| NewAPI 签到 | 每天 8:00、20:00 | `.github/workflows/newapi-check-in.yml` |
| LinuxDO 浏览 | 每天 0:00、8:00、16:00 | `.github/workflows/linuxdo-browse.yml` |

### 本地运行

```bash
# 安装依赖
uv sync

# 运行 NewAPI 签到
uv run python main.py --platform newapi

# 运行 LinuxDO 浏览
uv run python main.py --platform linuxdo
```

或使用定时任务脚本：
```bash
uv run python linuxdo_scheduler.py
```
